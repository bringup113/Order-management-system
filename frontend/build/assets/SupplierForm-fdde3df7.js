import{_ as E,M as P,b as k,r as V,x,c as y,y as q,o as S,e as F,i as v,z as U,f as o,w as a,E as b,A as h,n as f,q as C,s as R,N as D,O as w,t as B,g as N}from"./index-518491b2.js";/* empty css                *//* empty css                     *//* empty css                 *//* empty css                 */import{a as I,u as M,c as O}from"./supplier-9fbe03c3.js";const j={name:"SupplierForm",setup(){const i=P(),l=k(),_=V(null),e=V(!1),s=x(()=>i.name==="SupplierEdit"),u=y({id:null,name:"",contactPerson:"",contactPhone:"",email:"",address:"",status:"active",remark:""}),n={name:[{required:!0,message:"请输入供应商名称",trigger:"blur"}],contactPerson:[{required:!0,message:"请输入联系人姓名",trigger:"blur"}],contactPhone:[{required:!0,message:"请输入联系电话",trigger:"blur"}],email:[{required:!0,message:"请输入电子邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱格式",trigger:"blur"}],status:[{required:!0,message:"请选择状态",trigger:"change"}]},t=m=>{e.value=!0,I(m).then(d=>{Object.assign(u,d.data)}).catch(d=>{console.error("获取供应商详情失败",d),b.error("获取供应商详情失败"),Object.assign(u,{id:m,name:"东京旅行社",contactPerson:"张三",contactPhone:"13800138000",email:"zhangsan@example.com",address:"东京都新宿区西新宿1-1-1",status:"active",remark:"这是一个备注"})}).finally(()=>{e.value=!1})},p=()=>{_.value.validate(m=>{if(m)e.value=!0,(s.value?M(u.id,u):O(u)).then(()=>{b.success(s.value?"修改成功":"添加成功"),l.push("/supplier/list")}).catch(c=>{console.error(s.value?"修改供应商失败":"添加供应商失败",c),b.error(s.value?"修改供应商失败":"添加供应商失败")}).finally(()=>{e.value=!1});else return!1})},g=()=>{l.push("/supplier/list")};return q(()=>{s.value&&i.params.id&&t(i.params.id)}),{formRef:_,form:u,rules:n,loading:e,isEdit:s,submitForm:p,cancel:g}}},z={class:"supplier-form-container"},A={class:"supplier-form-header"};function G(i,l,_,e,s,u){const n=C,t=R,p=D,g=w,m=B,d=N,c=h;return S(),F("div",z,[v("div",A,[v("h2",null,U(e.isEdit?"编辑供应商":"新增供应商"),1)]),o(c,{class:"form-container"},{default:a(()=>[o(d,{ref:"formRef",model:e.form,rules:e.rules,"label-width":"120px","label-position":"right"},{default:a(()=>[o(t,{label:"供应商名称",prop:"name"},{default:a(()=>[o(n,{modelValue:e.form.name,"onUpdate:modelValue":l[0]||(l[0]=r=>e.form.name=r),placeholder:"请输入供应商名称"},null,8,["modelValue"])]),_:1}),o(t,{label:"联系人",prop:"contactPerson"},{default:a(()=>[o(n,{modelValue:e.form.contactPerson,"onUpdate:modelValue":l[1]||(l[1]=r=>e.form.contactPerson=r),placeholder:"请输入联系人姓名"},null,8,["modelValue"])]),_:1}),o(t,{label:"联系电话",prop:"contactPhone"},{default:a(()=>[o(n,{modelValue:e.form.contactPhone,"onUpdate:modelValue":l[2]||(l[2]=r=>e.form.contactPhone=r),placeholder:"请输入联系电话"},null,8,["modelValue"])]),_:1}),o(t,{label:"电子邮箱",prop:"email"},{default:a(()=>[o(n,{modelValue:e.form.email,"onUpdate:modelValue":l[3]||(l[3]=r=>e.form.email=r),placeholder:"请输入电子邮箱"},null,8,["modelValue"])]),_:1}),o(t,{label:"地址",prop:"address"},{default:a(()=>[o(n,{modelValue:e.form.address,"onUpdate:modelValue":l[4]||(l[4]=r=>e.form.address=r),placeholder:"请输入地址"},null,8,["modelValue"])]),_:1}),o(t,{label:"状态",prop:"status"},{default:a(()=>[o(g,{modelValue:e.form.status,"onUpdate:modelValue":l[5]||(l[5]=r=>e.form.status=r)},{default:a(()=>[o(p,{label:"active"},{default:a(()=>l[7]||(l[7]=[f("启用")])),_:1}),o(p,{label:"inactive"},{default:a(()=>l[8]||(l[8]=[f("禁用")])),_:1})]),_:1},8,["modelValue"])]),_:1}),o(t,{label:"备注",prop:"remark"},{default:a(()=>[o(n,{modelValue:e.form.remark,"onUpdate:modelValue":l[6]||(l[6]=r=>e.form.remark=r),type:"textarea",placeholder:"请输入备注信息",rows:3},null,8,["modelValue"])]),_:1}),o(t,null,{default:a(()=>[o(m,{type:"primary",onClick:e.submitForm,loading:e.loading},{default:a(()=>l[9]||(l[9]=[f("保存")])),_:1},8,["onClick","loading"]),o(m,{onClick:e.cancel},{default:a(()=>l[10]||(l[10]=[f("取消")])),_:1},8,["onClick"])]),_:1})]),_:1},8,["model","rules"])]),_:1})])}const W=E(j,[["render",G],["__scopeId","data-v-a9fb1530"]]);export{W as default};
