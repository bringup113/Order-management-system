import{_ as k,b as q,r as C,c as x,y as V,o as w,e as L,i as P,f as e,w as o,H as N,E as b,I as B,t as T,A,n as c,J as D,k as U,z as I,q as Q,s as F,V as M,W as R,g as j,D as G,F as H,G as J,K,L as O}from"./index-518491b2.js";/* empty css                   *//* empty css                      *//* empty css               *//* empty css                  *//* empty css                 *//* empty css                        *//* empty css                *//* empty css                     */import{g as W,d as X}from"./supplier-9fbe03c3.js";const Y={name:"SupplierList",setup(){const f=q(),a=C(!1),u=C([]),t=C(0),r=x({name:"",contactPerson:"",status:"",pageNum:1,pageSize:10}),s=()=>{a.value=!0,W(r).then(l=>{const{data:p,total:v}=N(l);u.value=p,t.value=v}).catch(l=>{console.error("获取供应商列表失败",l),b.error("获取供应商列表失败"),u.value=[{id:1,name:"东京旅行社",contactPerson:"张三",contactPhone:"13800138000",email:"zhangsan@example.com",address:"东京都新宿区西新宿1-1-1",status:"active",createdAt:"2023-01-01 12:00:00"},{id:2,name:"曼谷旅游公司",contactPerson:"李四",contactPhone:"13900139000",email:"lisi@example.com",address:"曼谷市素坤逸路123号",status:"active",createdAt:"2023-01-02 12:00:00"},{id:3,name:"巴黎旅游集团",contactPerson:"王五",contactPhone:"13700137000",email:"wangwu@example.com",address:"巴黎市香榭丽舍大街45号",status:"inactive",createdAt:"2023-01-03 12:00:00"}],t.value=u.value.length}).finally(()=>{a.value=!1})},i=()=>{r.pageNum=1,s()},m=()=>{r.name="",r.contactPerson="",r.status="",r.pageNum=1,s()},d=()=>{f.push("/supplier/create")},_=l=>{f.push(`/supplier/edit/${l.id}`)},h=l=>{B.confirm("确认删除该供应商吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{X(l.id).then(()=>{b.success("删除成功"),s()}).catch(p=>{console.error("删除供应商失败",p),b.error("删除供应商失败")})}).catch(()=>{})},y=l=>{r.pageSize=l,s()},g=l=>{r.pageNum=l,s()};return V(()=>{s()}),{loading:a,supplierList:u,total:t,queryParams:r,handleQuery:i,resetQuery:m,handleCreate:d,handleEdit:_,handleDelete:h,handleSizeChange:y,handleCurrentChange:g}}},Z={class:"supplier-list-container"},$={class:"supplier-list-header"},ee={class:"pagination-container"};function ae(f,a,u,t,r,s){const i=T,m=Q,d=F,_=M,h=R,y=j,g=A,l=G,p=H,v=J,z=K,E=O;return w(),L("div",Z,[P("div",$,[a[6]||(a[6]=P("h2",null,"供应商管理",-1)),e(i,{type:"primary",onClick:t.handleCreate},{default:o(()=>a[5]||(a[5]=[c("新增供应商")])),_:1},8,["onClick"])]),e(g,{class:"filter-container"},{default:o(()=>[e(y,{inline:!0,model:t.queryParams,class:"demo-form-inline"},{default:o(()=>[e(d,{label:"供应商名称"},{default:o(()=>[e(m,{modelValue:t.queryParams.name,"onUpdate:modelValue":a[0]||(a[0]=n=>t.queryParams.name=n),placeholder:"请输入供应商名称",clearable:""},null,8,["modelValue"])]),_:1}),e(d,{label:"联系人"},{default:o(()=>[e(m,{modelValue:t.queryParams.contactPerson,"onUpdate:modelValue":a[1]||(a[1]=n=>t.queryParams.contactPerson=n),placeholder:"请输入联系人",clearable:""},null,8,["modelValue"])]),_:1}),e(d,{label:"状态"},{default:o(()=>[e(h,{modelValue:t.queryParams.status,"onUpdate:modelValue":a[2]||(a[2]=n=>t.queryParams.status=n),placeholder:"请选择状态",clearable:""},{default:o(()=>[e(_,{label:"启用",value:"active"}),e(_,{label:"禁用",value:"inactive"})]),_:1},8,["modelValue"])]),_:1}),e(d,null,{default:o(()=>[e(i,{type:"primary",onClick:t.handleQuery},{default:o(()=>a[7]||(a[7]=[c("查询")])),_:1},8,["onClick"]),e(i,{onClick:t.resetQuery},{default:o(()=>a[8]||(a[8]=[c("重置")])),_:1},8,["onClick"])]),_:1})]),_:1},8,["model"])]),_:1}),e(g,{class:"table-container"},{default:o(()=>[D((w(),U(v,{data:t.supplierList,border:"",style:{width:"100%"}},{default:o(()=>[e(l,{prop:"name",label:"供应商名称",width:"180"}),e(l,{prop:"contactPerson",label:"联系人",width:"120"}),e(l,{prop:"contactPhone",label:"联系电话",width:"150"}),e(l,{prop:"email",label:"电子邮箱",width:"180"}),e(l,{prop:"address",label:"地址","show-overflow-tooltip":""}),e(l,{prop:"status",label:"状态",width:"100"},{default:o(n=>[e(p,{type:n.row.status==="active"?"success":"info"},{default:o(()=>[c(I(n.row.status==="active"?"启用":"禁用"),1)]),_:2},1032,["type"])]),_:1}),e(l,{prop:"createdAt",label:"创建时间",width:"180"}),e(l,{label:"操作",width:"180"},{default:o(n=>[e(i,{size:"small",type:"primary",onClick:S=>t.handleEdit(n.row)},{default:o(()=>a[9]||(a[9]=[c("编辑")])),_:2},1032,["onClick"]),e(i,{size:"small",type:"danger",onClick:S=>t.handleDelete(n.row)},{default:o(()=>a[10]||(a[10]=[c("删除")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[E,t.loading]]),P("div",ee,[e(z,{"current-page":t.queryParams.pageNum,"onUpdate:currentPage":a[3]||(a[3]=n=>t.queryParams.pageNum=n),"page-size":t.queryParams.pageSize,"onUpdate:pageSize":a[4]||(a[4]=n=>t.queryParams.pageSize=n),"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",total:t.total,onSizeChange:t.handleSizeChange,onCurrentChange:t.handleCurrentChange},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange"])])]),_:1})])}const pe=k(Y,[["render",ae],["__scopeId","data-v-5347d4e0"]]);export{pe as default};
